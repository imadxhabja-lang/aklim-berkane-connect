<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Berkane Connect | Ø¨Ø±ÙƒØ§Ù† ÙˆØ£ÙƒÙ„ÙŠÙ…</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Tailwind -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<style>
body{
  background: linear-gradient(135deg,#020617,#0f172a);
}
.glass{
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(14px);
  border:1px solid rgba(255,255,255,.15);
}
</style>
</head>

<body class="text-white">

<!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø®Ø¨Ø§Ø± -->
<marquee id="newsBar" class="bg-yellow-500 text-black font-bold py-2"></marquee>

<!-- Ø§Ù„Ø¥Ù‡Ø¯Ø§Ø¡Ø§Øª -->
<div class="glass m-3 p-4 rounded-xl">
<h2 class="font-bold mb-2">ğŸ’Œ Ø¥Ù‡Ø¯Ø§Ø¡Ø§Øª Ø§Ù„Ø²ÙˆØ§Ø±</h2>
<marquee id="dedicationsBar"></marquee>
<form id="dedicationForm" class="flex gap-2 mt-3">
<input id="dedicationInput" class="w-full p-2 rounded text-black" placeholder="Ø£Ø¶Ù Ø¥Ù‡Ø¯Ø§Ø¡Ùƒ">
<button class="bg-pink-600 px-4 rounded">Ø¥Ø±Ø³Ø§Ù„</button>
</form>
</div>

<!-- Ø§Ù„Ø·Ù‚Ø³ ÙˆØ§Ù„ØµÙ„Ø§Ø© -->
<div class="grid md:grid-cols-2 gap-4 m-3">
<div class="glass p-4 rounded-xl">
<h3 class="font-bold mb-2">ğŸŒ¤ï¸ Ø§Ù„Ø·Ù‚Ø³</h3>
<div id="weather">...</div>
</div>
<div class="glass p-4 rounded-xl">
<h3 class="font-bold mb-2">ğŸ•Œ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©</h3>
<div id="prayerTimes">...</div>
</div>
</div>

<!-- ØµÙŠØ¯Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø±Ø§Ø³Ø© -->
<div class="glass m-3 p-4 rounded-xl">
<h2 class="font-bold mb-3">ğŸ’Š ØµÙŠØ¯Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø±Ø§Ø³Ø©</h2>
<ul id="pharmacies"></ul>
</div>

<!-- Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ù‡Ù†ÙŠÙŠÙ† -->
<div class="m-3">
<h2 class="font-bold mb-3">ğŸ› ï¸ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª</h2>
<div id="professionals" class="grid sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
</div>

<!-- Ù‚Ø³Ù… Ø³ÙŠØ¯ØªÙŠ -->
<div class="glass m-3 p-4 rounded-xl border border-pink-400">
<h2 class="font-bold text-pink-400 mb-3">ğŸŒ¸ Ù‚Ø³Ù… Ø³ÙŠØ¯ØªÙŠ</h2>
<div id="ladies" class="grid sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
</div>

<!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
<div class="glass m-3 p-4 rounded-xl">
<h2 class="font-bold mb-3">ğŸ” Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>

<div id="loginBox">
<input id="email" class="text-black p-2 w-full mb-2" placeholder="Gmail">
<input id="password" type="password" class="text-black p-2 w-full mb-2" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
<button onclick="login()" class="bg-blue-600 px-4 py-2 rounded w-full">Ø¯Ø®ÙˆÙ„</button>
</div>

<div id="adminPanel" class="hidden">

<textarea id="newsInput" class="text-black w-full p-2 mb-2" placeholder="Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø®Ø¨Ø§Ø±"></textarea>
<button onclick="updateNews()" class="bg-yellow-500 px-4 py-2 rounded w-full">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</button>

<h3 class="font-bold mt-4 mb-2">Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù†ÙŠ</h3>
<input id="pName" class="text-black p-2 w-full mb-2" placeholder="Ø§Ù„Ø§Ø³Ù…">
<input id="pJob" class="text-black p-2 w-full mb-2" placeholder="Ø§Ù„Ù…Ù‡Ù†Ø©">
<input id="pPhone" class="text-black p-2 w-full mb-2" placeholder="Ø§Ù„Ù‡Ø§ØªÙ">
<select id="pType" class="text-black p-2 w-full mb-2">
<option value="general">Ø¹Ø§Ù…</option>
<option value="ladies">Ø³ÙŠØ¯ØªÙŠ</option>
</select>
<button onclick="addProfessional()" class="bg-green-600 px-4 py-2 rounded w-full">Ø¥Ø¶Ø§ÙØ©</button>

</div>
</div>

<script>
/* Firebase */
firebase.initializeApp({
 databaseURL:"https://studio-2627154759-2fb87-default-rtdb.firebaseio.com/"
});
const db=firebase.database();

/* Ø§Ù„Ø£Ø®Ø¨Ø§Ø± */
db.ref("news").on("value",s=>{
 newsBar.textContent=s.val()||"Ù…Ø±Ø­Ø¨Ø§ Ø¨ÙƒÙ… ÙÙŠ Berkane Connect";
});

/* Ø§Ù„Ø¥Ù‡Ø¯Ø§Ø¡Ø§Øª */
db.ref("dedications").on("value",s=>{
 let t="";
 s.forEach(d=>t+=" ğŸ’– "+d.val());
 dedicationsBar.textContent=t;
});
dedicationForm.onsubmit=e=>{
 e.preventDefault();
 db.ref("dedications").push(dedicationInput.value);
 dedicationInput.value="";
};

/* ØµÙŠØ¯Ù„ÙŠØ§Øª */
db.ref("pharmacies").on("value",s=>{
 pharmacies.innerHTML="";
 s.forEach(p=>pharmacies.innerHTML+=`<li>ğŸ¥ ${p.val()}</li>`);
});

/* Ù…Ù‡Ù†ÙŠÙŠÙ† */
db.ref("professionals").on("value",s=>{
 professionals.innerHTML="";
 ladies.innerHTML="";
 s.forEach(p=>{
  let d=p.val();
  let card=`
  <div class="glass p-3 rounded-xl">
  <h4 class="font-bold">${d.name}</h4>
  <p>${d.job}</p>
  <a href="tel:${d.phone}" class="text-green-400 block">ğŸ“ Ø§ØªØµØ§Ù„</a>
  <a href="https://wa.me/${d.phone}" class="text-green-500">ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨</a>
  </div>`;
  d.type==="ladies"?ladies.innerHTML+=card:professionals.innerHTML+=card;
 });
});

/* Ø§Ù„Ø·Ù‚Ø³ */
fetch("https://api.open-meteo.com/v1/forecast?latitude=34.92&longitude=-2.32&current_weather=true")
.then(r=>r.json())
.then(d=>weather.textContent=d.current_weather.temperature+"Â°C");

/* Ø§Ù„ØµÙ„Ø§Ø© */
fetch("https://api.aladhan.com/v1/timingsByCity?city=Berkane&country=Morocco")
.then(r=>r.json())
.then(d=>{
 let t=d.data.timings;
 prayerTimes.innerHTML=`Ø§Ù„ÙØ¬Ø±: ${t.Fajr}<br>Ø§Ù„Ø¸Ù‡Ø±: ${t.Dhuhr}<br>Ø§Ù„Ø¹ØµØ±: ${t.Asr}<br>Ø§Ù„Ù…ØºØ±Ø¨: ${t.Maghrib}<br>Ø§Ù„Ø¹Ø´Ø§Ø¡: ${t.Isha}`;
});

/* Admin */
function login(){
 if(email.value==="imad@gmail.com" && password.value==="2025"){
  loginBox.classList.add("hidden");
  adminPanel.classList.remove("hidden");
 }else alert("Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©");
}
function updateNews(){
 db.ref("news").set(newsInput.value);
}
function addProfessional(){
 db.ref("professionals").push({
  name:pName.value,
  job:pJob.value,
  phone:pPhone.value,
  type:pType.value
 });
}
</script>

</body>
</html>
